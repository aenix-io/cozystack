---
apiVersion: operator.cluster.x-k8s.io/v1alpha2
kind: CoreProvider
metadata:
  name: cluster-api
spec:
  # https://github.com/kubernetes-sigs/cluster-api
  version: v1.8.3
---
apiVersion: operator.cluster.x-k8s.io/v1alpha2
kind: ControlPlaneProvider
metadata:
  name: kamaji
spec:
  # https://github.com/clastix/cluster-api-control-plane-provider-kamaji
  version: v0.11.0
  deployment:
    containers:
    - name: manager
      resources:
        limits:
          cpu: 1024m
          memory: 1024Mi
---
apiVersion: operator.cluster.x-k8s.io/v1alpha2
kind: BootstrapProvider
metadata:
  name: kubeadm
spec:
  # https://github.com/kubernetes-sigs/cluster-api
  version: v1.8.3
---
apiVersion: operator.cluster.x-k8s.io/v1alpha2
kind: InfrastructureProvider
metadata:
  name: kubevirt
spec:
  # https://github.com/kubernetes-sigs/cluster-api-provider-kubevirt
  version: v0.1.9

{{- if .Values.providers.proxmox }}
---
apiVersion: operator.cluster.x-k8s.io/v1alpha2
kind: InfrastructureProvider
metadata:
  name: proxmox
spec:
  # https://github.com/ionos-cloud/cluster-api-provider-proxmox
  version: v0.6.2
{{- end }}

{{- if .Values.providers.hetzner }}
---
apiVersion: operator.cluster.x-k8s.io/v1alpha2
kind: InfrastructureProvider
metadata:
  name: hetzner
spec:
  # https://github.com/syself/cluster-api-provider-hetzner
  version: v1.0.1
{{- end }}
